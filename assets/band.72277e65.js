import{S as C,z as J}from"./index.d680abfe.js";import{i as L}from"./linear.202d25e0.js";class E extends Map{constructor(t,i=X){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(const[r,u]of t)this.set(r,u)}get(t){return super.get(H(this,t))}has(t){return super.has(H(this,t))}set(t,i){return super.set(N(this,t),i)}delete(t){return super.delete(T(this,t))}}class en extends Set{constructor(t,i=X){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(H(this,t))}add(t){return super.add(N(this,t))}delete(t){return super.delete(T(this,t))}}function H({_intern:n,_key:t},i){const r=t(i);return n.has(r)?n.get(r):i}function N({_intern:n,_key:t},i){const r=t(i);return n.has(r)?n.get(r):(n.set(r,i),i)}function T({_intern:n,_key:t},i){const r=t(i);return n.has(r)&&(i=n.get(r),n.delete(r)),i}function X(n){return n!==null&&typeof n=="object"?n.valueOf():n}function K(n,t,i){n=+n,t=+t,i=(u=arguments.length)<2?(t=n,n=0,1):u<3?1:+i;for(var r=-1,u=Math.max(0,Math.ceil((t-n)/i))|0,o=new Array(u);++r<u;)o[r]=n+r*i;return o}function Q(n){return n}var V=1,_=2,j=3,b=4,q=1e-6;function U(n){return"translate("+n+",0)"}function W(n){return"translate(0,"+n+")"}function Z(n){return t=>+n(t)}function $(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),i=>+n(i)+t}function nn(){return!this.__axis}function P(n,t){var i=[],r=null,u=null,o=6,s=6,g=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=n===V||n===b?-1:1,d=n===b||n===_?"x":"y",l=n===V||n===j?U:W;function e(a){var h=r==null?t.ticks?t.ticks.apply(t,i):t.domain():r,S=u==null?t.tickFormat?t.tickFormat.apply(t,i):Q:u,y=Math.max(o,0)+g,w=t.range(),A=+w[0]+c,I=+w[w.length-1]+c,O=(t.bandwidth?$:Z)(t.copy(),c),M=a.selection?a.selection():a,k=M.selectAll(".domain").data([null]),m=M.selectAll(".tick").data(h,t).order(),R=m.exit(),z=m.enter().append("g").attr("class","tick"),x=m.select("line"),v=m.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),m=m.merge(z),x=x.merge(z.append("line").attr("stroke","currentColor").attr(d+"2",f*o)),v=v.merge(z.append("text").attr("fill","currentColor").attr(d,f*y).attr("dy",n===V?"0em":n===j?"0.71em":"0.32em")),a!==M&&(k=k.transition(a),m=m.transition(a),x=x.transition(a),v=v.transition(a),R=R.transition(a).attr("opacity",q).attr("transform",function(p){return isFinite(p=O(p))?l(p+c):this.getAttribute("transform")}),z.attr("opacity",q).attr("transform",function(p){var F=this.parentNode.__axis;return l((F&&isFinite(F=F(p))?F:O(p))+c)})),R.remove(),k.attr("d",n===b||n===_?s?"M"+f*s+","+A+"H"+c+"V"+I+"H"+f*s:"M"+c+","+A+"V"+I:s?"M"+A+","+f*s+"V"+c+"H"+I+"V"+f*s:"M"+A+","+c+"H"+I),m.attr("opacity",1).attr("transform",function(p){return l(O(p)+c)}),x.attr(d+"2",f*o),v.attr(d,f*y).text(S),M.filter(nn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===_?"start":n===b?"end":"middle"),M.each(function(){this.__axis=O})}return e.scale=function(a){return arguments.length?(t=a,e):t},e.ticks=function(){return i=Array.from(arguments),e},e.tickArguments=function(a){return arguments.length?(i=a==null?[]:Array.from(a),e):i.slice()},e.tickValues=function(a){return arguments.length?(r=a==null?null:Array.from(a),e):r&&r.slice()},e.tickFormat=function(a){return arguments.length?(u=a,e):u},e.tickSize=function(a){return arguments.length?(o=s=+a,e):o},e.tickSizeInner=function(a){return arguments.length?(o=+a,e):o},e.tickSizeOuter=function(a){return arguments.length?(s=+a,e):s},e.tickPadding=function(a){return arguments.length?(g=+a,e):g},e.offset=function(a){return arguments.length?(c=+a,e):c},e}function un(n){return P(V,n)}function an(n){return P(_,n)}function on(n){return P(j,n)}function sn(n){return P(b,n)}function cn(n){return typeof n=="string"?new C([[document.querySelector(n)]],[document.documentElement]):new C([[n]],J)}const B=Symbol("implicit");function Y(){var n=new E,t=[],i=[],r=B;function u(o){let s=n.get(o);if(s===void 0){if(r!==B)return r;n.set(o,s=t.push(o)-1)}return i[s%i.length]}return u.domain=function(o){if(!arguments.length)return t.slice();t=[],n=new E;for(const s of o)n.has(s)||n.set(s,t.push(s)-1);return u},u.range=function(o){return arguments.length?(i=Array.from(o),u):i.slice()},u.unknown=function(o){return arguments.length?(r=o,u):r},u.copy=function(){return Y(t,i).unknown(r)},L.apply(u,arguments),u}function D(){var n=Y().unknown(void 0),t=n.domain,i=n.range,r=0,u=1,o,s,g=!1,c=0,f=0,d=.5;delete n.unknown;function l(){var e=t().length,a=u<r,h=a?u:r,S=a?r:u;o=(S-h)/Math.max(1,e-c+f*2),g&&(o=Math.floor(o)),h+=(S-h-o*(e-c))*d,s=o*(1-c),g&&(h=Math.round(h),s=Math.round(s));var y=K(e).map(function(w){return h+o*w});return i(a?y.reverse():y)}return n.domain=function(e){return arguments.length?(t(e),l()):t()},n.range=function(e){return arguments.length?([r,u]=e,r=+r,u=+u,l()):[r,u]},n.rangeRound=function(e){return[r,u]=e,r=+r,u=+u,g=!0,l()},n.bandwidth=function(){return s},n.step=function(){return o},n.round=function(e){return arguments.length?(g=!!e,l()):g},n.padding=function(e){return arguments.length?(c=Math.min(1,f=+e),l()):c},n.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),l()):c},n.paddingOuter=function(e){return arguments.length?(f=+e,l()):f},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),l()):d},n.copy=function(){return D(t(),[r,u]).round(g).paddingInner(c).paddingOuter(f).align(d)},L.apply(l(),arguments)}function G(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return G(t())},n}function fn(){return G(D.apply(null,arguments).paddingInner(1))}export{E as I,on as a,D as b,an as c,en as d,un as e,sn as f,B as i,Y as o,fn as p,K as r,cn as s};
